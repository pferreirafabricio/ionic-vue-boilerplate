"use strict";(self["webpackChunkapp_boilerplate"]=self["webpackChunkapp_boilerplate"]||[]).push([[283],{314:function(e,a,t){t.d(a,{A:function(){return l}});var n=t(9118);function l(){async function e(e,a,t="top",l=3e3){const o=await n.eE.create({message:e,position:t,color:a,duration:l});return o.present()}return{openToast:e}}},5324:function(e,a,t){t.d(a,{A:function(){return c}});t(8743);var n=t(641),l=t(953),o=t(33),i=t(9118),s=t(5220),r={__name:"Button",props:{color:{type:String,default:"primary"},text:{type:String,required:!1},expand:{type:String,default:"block"},size:{type:String,default:"medium"},icon:{default:null,required:!1},iosIcon:{default:null,required:!1},mdIcon:{default:null,required:!1},isLoading:{type:Boolean,default:!1},spinnerName:{type:String,default:"crescent"},iconOnly:{type:Boolean,default:!1},fill:{type:String,default:"solid"},to:{type:[String,Object],required:!1},download:{type:Boolean,default:!1},href:{type:String,required:!1}},setup(e){const a=e,{icon:t,iosIcon:r,mdIcon:u,to:d}=(0,l.QW)(a),c=(0,n.EW)((()=>t.value||r.value||u.value)),p=(0,s.rd)();function m(){d.value&&p.push(d.value)}return(a,s)=>((0,n.uX)(),(0,n.Wv)((0,l.R1)(i.Jm),{class:"btn ion-activatable ripple-parent",color:e.color,expand:e.expand,size:e.size,disabled:e.isLoading,fill:e.fill,download:e.download,href:e.href,onClick:s[0]||(s[0]=e=>!!(0,l.R1)(d)&&m())},{default:(0,n.k6)((()=>[e.text&&!e.iconOnly?((0,n.uX)(),(0,n.Wv)((0,l.R1)(i.he),{key:0,class:(0,o.C4)([c.value?"ml-2":""])},{default:(0,n.k6)((()=>[(0,n.eW)((0,o.v_)(e.text),1)])),_:1},8,["class"])):(0,n.Q3)("",!0),c.value?((0,n.uX)(),(0,n.Wv)((0,l.R1)(i.iq),{key:1,slot:e.iconOnly?"icon-only":"start",ios:(0,l.R1)(r)||(0,l.R1)(t),md:(0,l.R1)(u)||(0,l.R1)(t)},null,8,["slot","ios","md"])):(0,n.Q3)("",!0),e.isLoading?((0,n.uX)(),(0,n.Wv)((0,l.R1)(i.w2),{key:2,slot:"end",class:(0,o.C4)(e.iconOnly?"":"ion-margin-start"),name:e.spinnerName},null,8,["class","name"])):(0,n.Q3)("",!0),(0,n.bF)((0,l.R1)(i.S7),{type:"unbounded"})])),_:1},8,["color","expand","size","disabled","fill","download","href"]))}},u=t(6262);const d=(0,u.A)(r,[["__scopeId","data-v-91873b5e"]]);var c=d},9283:function(e,a,t){t.r(a),t.d(a,{default:function(){return F}});t(8743);var n=t(641),l=t(953),o=t(5480),i=t(9118),s=t(5220),r=t(5324),u=t(1027),d=t(1552),c=t(9529),p=t(8839),m=t(6182);function f(e){let a="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length;let l=0;while(l<e)a+=t.charAt(Math.floor(Math.random()*n)),l+=1;return a}const v=(0,p.nY)("login",{actions:{async setToken(e){await c.p.set({key:"token",value:e})},async setUserData(e){await c.p.set({key:"user",value:JSON.stringify({userId:e.id,userType:e.typeUser,userName:e.userName})})},async login(e){return"admin"===e.email&&"admin"===e.password?await this.fakeLogin():d.A.post("/login",e).then((async e=>(await this.setToken(e.token),await this.setUserData(e.data),e.data))).catch((e=>e.response))},async fakeLogin(){return await this.setToken(f(20)),await this.setUserData({id:1,typeUser:m.A.ADMINISTRATOR,userName:"Admin"}),{data:{userType:m.A.ADMINISTRATOR}}}}});var y=t(9595);function g(){const e=(0,s.rd)();function a(a,t,n=!1){if(!n)return void e.push({name:y.A[a]||"logout",params:t});const l=e.resolve({name:y.A[a]||"logout",params:t});window.location=l.href}return{redirectTo:a}}var b=t(314);function k(){const{openToast:e}=(0,b.A)(),{redirectTo:a}=g(),t=v();async function n(n){const l={email:n.email,password:n.password};t.login(l).then((t=>(e("Logged with success","success","top"),a(t.data.userType,{anyCustomParams:t.customParams}),Promise.resolve()))).catch((a=>{e("Something was wrong on login","danger","top"),Promise.reject(a)}))}return{userLogin:n,openToast:e,redirectTo:a}}var w=t(8126),h={__name:"Login",setup(e){const{userLogin:a}=k(),t=(0,s.rd)(),d=(0,l.KR)(!1),c=(0,l.KR)({mail:o.kiB,key:o.Ebd,eye:o.y5U,eyeOff:o.zsm,logIn:o.E8l,enterOutline:o.b9o}),p=(0,l.KR)({email:"admin",password:"admin"}),m=(0,l.KR)({email:"",password:""}),f=(0,l.KR)(!1);function v(){y()&&(f.value=!0,a(p.value).then((()=>{w.A.emit("logged")})).finally((()=>{f.value=!1})))}function y(){let e=!0;return p.value.email||(m.value.email="Email invalid",e=!1),p.value.password||(m.value.password="Password invalid",e=!1),e}function g(){t.push({name:"recovery-password"})}return(e,a)=>{const t=(0,n.g2)("error-message"),o=(0,n.g2)("base-layout");return(0,n.uX)(),(0,n.Wv)(o,{"page-default-back-link":"/home","show-menu-button":!1},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.ln),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.hU),{size:"12"},{default:(0,n.k6)((()=>[(0,n.bF)(u.A,{style:{height:"200px"},src:"assets/icon/logo.png"})])),_:1})])),_:1}),(0,n.bF)((0,l.R1)(i.ln),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.hU),{size:"12"},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.uz),{class:"form-field"},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.iq),{slot:"start",icon:c.value.mail},null,8,["icon"]),(0,n.bF)((0,l.R1)(i.$w),{modelValue:p.value.email,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value.email=e),"clear-input":"",required:"",label:"E-mail",type:"email","label-placement":"floating",tabindex:"1",inputmode:"email",placeholder:"admin",onInput:a[1]||(a[1]=e=>m.value.email="")},null,8,["modelValue"])])),_:1}),(0,n.bF)(t,{text:m.value.email},null,8,["text"])])),_:1}),(0,n.bF)((0,l.R1)(i.hU),{size:"12"},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.uz),{class:"form-field"},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.iq),{slot:"start",icon:c.value.key},null,8,["icon"]),(0,n.bF)((0,l.R1)(i.$w),{modelValue:p.value.password,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value.password=e),required:"",name:"password",label:"Password",tabindex:"2","label-placement":"floating",placeholder:"admin","clear-input":"",type:d.value?"text":"password",onInput:a[3]||(a[3]=e=>m.value.password="")},null,8,["modelValue","type"]),(0,n.bF)((0,l.R1)(i.iq),{slot:"end",icon:d.value?c.value.eyeOff:c.value.eye,class:"pointer",onClick:a[4]||(a[4]=e=>d.value=!d.value)},null,8,["icon"])])),_:1}),(0,n.bF)(t,{text:m.value.password},null,8,["text"])])),_:1})])),_:1}),(0,n.bF)((0,l.R1)(i.ln),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.hU),{size:"12"},{default:(0,n.k6)((()=>[(0,n.bF)(r.A,{color:"primary",text:"Login",icon:c.value.enterOutline,"is-loading":f.value,onClick:a[5]||(a[5]=e=>v())},null,8,["icon","is-loading"])])),_:1})])),_:1}),(0,n.bF)((0,l.R1)(i.ln),{class:"ion-text-center"},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.hU),{size:"12"},{default:(0,n.k6)((()=>[(0,n.bF)((0,l.R1)(i.IO),{color:"tertiary",class:"pointer",onClick:a[6]||(a[6]=e=>g())},{default:(0,n.k6)((()=>[(0,n.eW)(" Forgot password? ")])),_:1})])),_:1})])),_:1})])),_:1})}}},R=t(6262);const _=(0,R.A)(h,[["__scopeId","data-v-c5eb3ed8"]]);var F=_}}]);
//# sourceMappingURL=283.469f698e.js.map